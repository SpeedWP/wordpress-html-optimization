var e=document.currentScript;if(e){var m=e.getAttribute("data-o10n");if(-1!==m.indexOf("\u00f8:"))for(var n=/\u00f8:(\d+)/g,r=n.exec(m),t;r;){t=[];for(var u=parseInt(r[1]),v=0;v<u;v++)t.push("null");m=m.replace(r[0],t.join(","));r=n.exec(m)}m=m.replace(/\u00f8/g,"null").replace(/\u00ac/g,"false").replace(/\u00b5/g,"true");try{m=JSON.parse(m)}catch(b){window.console.error(b),m=!1}}if(!m)throw Error("<script data-o10n>");var w=m[7][0]?m[7][0]:!1,x=m[7][2]&&m[7][2]instanceof Array?m[7][2]:!1;
if(x)var y=m[7][3]||"include";var z=document.createElement("div"),A="outerHTML"in z,B=/^\/(.*)\/([gimuy]+)?$/;
function C(b){var h=w,c,g=[],l=[];if(x){var p;if(A)p=b.outerHTML;else{var a=z.cloneNode();a.appendChild(b.cloneNode(!0));p=a.innerHTML}a="include"===y?!0:!1;c=x.length;for(var d,k,q,f=0;f<c;f++)if(d=x[f],"string"===typeof d&&(d={match:d}),"object"===typeof d){q=!1;if("exclude"in d&&d.b)q=!0;else if("object"===typeof a)continue;if("regex"in d&&d.regex){if(k=d.match.match(B)){try{var F=new RegExp(k[1],k[2])}catch(G){}k=F||!1}else k=void 0;if(k&&k.test(p)){if(q){console.log("o10n.link.capture","exclude",
d,b);return}a=d}}else if(-1!==p.indexOf(d.match)){if(q){console.log("o10n.link.capture","exclude",d,b);return}a=d}}if(!a){console.log("o10n.link.capture","no match",d,b);return}}if(a&&("rel_noopener"in a&&(a.rel_noopener?"string"===typeof a.rel_noopener&&(h=a.rel_noopener):h=!1),"cdn"in a&&a.cdn&&(c=[a.cdn.url],a.cdn.a&&c.push(a.cdn.a)),"class"in a&&a["class"]&&("string"===typeof a["class"]&&(a["class"]=[a["class"]]),a["class"]instanceof Array&&(l=a["class"])),"attributes"in a&&a.attributes instanceof
Array))for(c=a.attributes.length,f=0;f<c;f++)d=a.attributes[f],g.push([d.param,d.value]);h&&b.href&&b.target&&"_blank"===b.target.toLowerCase().trim()&&b.setAttribute("rel",h);if(l&&l.length){if(h=b.getAttribute("class"))for(h=h.split(/\s+/m),c=h.length,f=0;f<c;f++)-1===l.indexOf(h[f])&&l.push(h[f]);b.setAttribute("class",l.join(" "))}if(g&&g.length)for(c=g.length,f=0;f<c;f++)b.setAttribute(g[f][0],g[f][1]);console.info("o10n.link.capture",b)}
var D=window.MutationObserver||window.WebKitMutationObserver,E;D&&(E=new D(function(b){b.forEach(function(b){for(var c,g=0;g<b.addedNodes.length;g++)if(c=b.addedNodes[g],"A"===c.nodeName)C(c);else if("querySelectorAll"in c){c=c.querySelectorAll("a");var h=c.length;if(h)for(g=0;g<h;g++)C(c[g])}})}),E.observe(document.documentElement,{childList:!0,subtree:!0}),console.info("o10n.link.capture","oberver started"));
